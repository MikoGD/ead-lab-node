<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script
      src="https://kit.fontawesome.com/3ad260bc34.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <title>Lab 3</title>
  </head>

  <body>
    <div id="modalContainer" class="vw-100 vh-100 position-fixed">
      <div id="modal" class="container bg-white position-relative shadow p-5">
        <button type="button" class="btn" id="closeModalButton">
          <span class="fa-solid fa-xmark" />
        </button>
        <div id="modalBody">
          <div
            id="modalButtonGroup"
            class="w-100 d-flex justify-content-evenly"
          >
            <button
              type="button"
              class="btn btn-secondary"
              id="modalFadeOutButton"
            >
              Fade out square
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              id="modalFadeInButton"
            >
              Fade in square
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              id="modalSpinButton"
            >
              Spin square
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              id="modalResetButton"
            >
              Reset
            </button>
          </div>
          <div
            id="modalSquareContainer"
            class="w-100 h-100 d-flex justify-content-center align-items-center"
          >
            <div id="modalSquare" class="bg-primary"></div>
          </div>
        </div>
      </div>
    </div>
    <main class="container p-5">
      <div class="text-center">
        <h1>Enterprise Application Development Lab 3</h1>
      </div>
      <div>
        <p>
          When the button is clicked. A XMLHttpRequest object is created. A
          callback is given to its onload function. This callback will parse the
          response and get the header and rows from the response. The headers
          and rows array are used to filter the table and add new rows.
          <br />
          <br />
          On the server side it reads the all the JSON file and creates a map
          where the key is the country name and the value is a map of the row
          content. The country key is not needed however to merge the JSON maps
          together the country key is used to make sure that the data its
          merging is of the same country.
          <br />
          <br />
          Once the data is loaded the table is built. Only the first 20 row is
          built. 20 more rows are added as the user scrolls. There is an event
          that checks everytime the user scrolls. When the scroll reaches 80%
          down the max scroll it adds more rows. This is done by slicing the
          data.
        </p>
      </div>
      <div class="d-flex flex-column align-items-center w-100">
        <button type="button" class="btn btn-primary mt-5" id="dataButton">
          Get data
        </button>
        <button
          type="button"
          class="btn btn-primary mt-2 mb-5"
          id="modalButton"
        >
          Open modal
        </button>
        <spinner class="spinner-border invisible" role="status">
          <span class="sr-only" />
        </spinner>
        <div id="tableContainer" class="w-100"></div>
      </div>
    </main>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
